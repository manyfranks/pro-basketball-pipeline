# NBA SGP Engine - Railway Configuration
# Docs: https://docs.railway.app/reference/config-as-code

[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"

[deploy]
numReplicas = 1
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3

# NOTE: No healthcheck - this is a cron job, not a web server
# NOTE: No cron in railway.toml - Railway requires cron config via dashboard

# =============================================================================
# RAILWAY DASHBOARD CONFIGURATION
# =============================================================================
# Configure ONE cron service in Railway dashboard:
#
# Service: nba-sgp-daily
# Cron: 0 15 * * *  (15:00 UTC = 10:00 AM ET during EST)
# Command: python -m scripts.nba_daily_orchestrator
#
# This single run handles both:
# 1. Settlement of yesterday's parlays
# 2. SGP generation for today's games
#
# (Matches NHL pipeline pattern - one orchestrator, one cron)

# =============================================================================
# ENVIRONMENT VARIABLES (set in Railway dashboard)
# =============================================================================
# Required:
#   SUPABASE_URL=https://xxx.supabase.co
#   SUPABASE_KEY=eyJhbG...
#   ODDS_API_KEY=xxx
#
# Optional:
#   OPENROUTER_API_KEY=xxx (for LLM thesis generation)
