# NBA SGP Engine - Railway Configuration
# Docs: https://docs.railway.app/reference/config-as-code

[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"

[deploy]
numReplicas = 1
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3

# Cron schedule is configured per-service in Railway UI
# This allows multiple containers with different schedules
# Example schedules:
#   - Morning run: 0 15 * * * (15:00 UTC = 10:00 AM ET)
#   - Evening run: 0 23 * * * (23:00 UTC = 6:00 PM ET)
startCommand = "python -m scripts.nba_daily_orchestrator"

# =============================================================================
# CRON BEHAVIOR
# =============================================================================
# Daily run at 15:00 UTC handles:
# 1. Settlement of yesterday's parlays
# 2. SGP generation for today's games

# =============================================================================
# ENVIRONMENT VARIABLES (set in Railway dashboard)
# =============================================================================
# Required:
#   SUPABASE_URL=https://xxx.supabase.co
#   SUPABASE_KEY=eyJhbG...
#   ODDS_API_KEY=xxx
#
# Optional:
#   OPENROUTER_API_KEY=xxx (for LLM thesis generation)
