# NBA SGP Engine - Railway Configuration
# Docs: https://docs.railway.app/reference/config-as-code

[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"

[deploy]
numReplicas = 1
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3

# Cron: 15:00 UTC = 10:00 AM ET (during EST) / 11:00 AM ET (during EDT)
# Single daily run handles both settlement and SGP generation
cronSchedule = "0 15 * * *"
startCommand = "python -m scripts.nba_daily_orchestrator"

# =============================================================================
# CRON BEHAVIOR
# =============================================================================
# Daily run at 15:00 UTC handles:
# 1. Settlement of yesterday's parlays
# 2. SGP generation for today's games

# =============================================================================
# ENVIRONMENT VARIABLES (set in Railway dashboard)
# =============================================================================
# Required:
#   SUPABASE_URL=https://xxx.supabase.co
#   SUPABASE_KEY=eyJhbG...
#   ODDS_API_KEY=xxx
#
# Optional:
#   OPENROUTER_API_KEY=xxx (for LLM thesis generation)
